"use strict";(self.webpackChunkpizza=self.webpackChunkpizza||[]).push([[936],{1936:(R,l,c)=>{c.r(l),c.d(l,{ProductsModule:()=>G});var s=c(177),u=c(749),v=c(8141),t=c(7705),m=c(1290),P=c(8240),x=c(1626);let a=(()=>{class e{constructor(){this.title=""}toUpper(){return this.title.toUpperCase()}toLower(){return this.title.toLowerCase()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["custom-title"]],inputs:{title:"title"},decls:2,vars:1,consts:[[1,"product-title"]],template:function(o,n){1&o&&(t.j41(0,"div",0),t.EFF(1),t.k0s()),2&o&&(t.R7$(1),t.JRh(n.title))},styles:[".product-title[_ngcontent-%COMP%]{font-size:18px;font-family:MullerBold,sans-serif;color:#382400}"]})}}return e})(),g=(()=>{class e{constructor(){this.count=0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})(),h=(()=>{class e{transform(r,o,n){let i=r;return[o,n].forEach(C=>{i=i.replace(new RegExp("[\u0410-\u042f\u0430-\u044f]*"+C+"[\u0430-\u044f]*","g"),p=>p.toUpperCase())}),i}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275pipe=t.EJ8({name:"wordUpper",type:e,pure:!0})}}return e})();const E=["elem"];function F(e,d){if(1&e&&(t.j41(0,"div",10),t.nrm(1,"img",11),t.k0s()),2&e){const r=t.XpG();t.R7$(1),t.FS9("src",r.product.image,t.B4B)}}function b(e,d){1&e&&(t.j41(0,"div",10),t.nrm(1,"img",13),t.k0s())}function y(e,d){if(1&e&&t.DNE(0,b,2,0,"div",12),2&e){const r=t.XpG();t.Y8G("ngIf",!r.product.image)}}const T=function(e){return["/products",e]};let M=(()=>{class e{constructor(r){this.cartProductService=r,this.addToCartEvent=new t.bkB,this.product={id:0,image:"",title:"",description:"",datetime:""}}addProductToCard(r){this.cartProductService.count++,this.addToCartEvent.emit(r)}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(g))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["product-card"]],viewQuery:function(o,n){if(1&o&&(t.GBs(a,5),t.GBs(E,5)),2&o){let i;t.mGM(i=t.lsd())&&(n.titleComponent=i.first),t.mGM(i=t.lsd())&&(n.elem=i.first)}},inputs:{product:"product"},outputs:{addToCartEvent:"addToCartEvent"},features:[t.Jv_([g])],decls:16,vars:13,consts:[[1,"product"],["class","product-image",4,"ngIf","ngIfElse"],["defaultImageBlock",""],[3,"title"],["customTitle",""],[1,"product-text"],[1,"product-action"],["elem",""],[1,"btn","btn-add-to-cart",3,"click"],[1,"btn","btn-white",3,"routerLink"],[1,"product-image"],["alt","Pizza",3,"src"],["class","product-image",4,"ngIf"],["src","./assets/images/pizzzzza.png","alt","Pizza"]],template:function(o,n){if(1&o){const i=t.RV6();t.j41(0,"div",0),t.DNE(1,F,2,1,"div",1),t.DNE(2,y,1,1,"ng-template",null,2,t.C5r),t.nrm(4,"custom-title",3,4),t.nI1(6,"uppercase"),t.j41(7,"div",5),t.EFF(8),t.nI1(9,"wordUpper"),t.k0s(),t.j41(10,"div",6,7)(12,"a",8),t.bIt("click",function(){t.eBV(i);const p=t.sdS(5);return t.Njj(n.addProductToCard(p.toUpper()))}),t.EFF(13,"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),t.k0s(),t.j41(14,"a",9),t.EFF(15,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.k0s()()()}if(2&o){const i=t.sdS(3);t.R7$(1),t.Y8G("ngIf",n.product.image)("ngIfElse",i),t.R7$(3),t.Y8G("title",t.bMT(6,5,n.product.title)),t.R7$(4),t.SpI(" ",t.brH(9,7,n.product.description,"\u0441\u044b\u0440","\u0442\u043e\u043c\u0430\u0442")," "),t.R7$(6),t.Y8G("routerLink",t.eq3(11,T,n.product.id))}},dependencies:[s.bT,u.Wk,a,s.Pc,h],styles:[".product[_ngcontent-%COMP%]{width:282px;background-color:#fff;box-shadow:0 3px 13.8px 1.2px #98989833;text-align:center;padding:15px 20px;box-sizing:border-box;margin-top:24px}.product-image[_ngcontent-%COMP%]{height:175px;display:flex;align-items:center;justify-content:center}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.product-text[_ngcontent-%COMP%]{font-size:14px;color:#181a1a;line-height:1.286;height:49px;margin:14px 0 15px}.product-action[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-action[_ngcontent-%COMP%]   .btn.btn-white[_ngcontent-%COMP%]{margin-top:10px}.product-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:242px;height:50px;padding:17px}@media screen and (max-width: 1229px){.product[_ngcontent-%COMP%]{margin:12px}}"]})}}return e})();function I(e,d){if(1&e){const r=t.RV6();t.j41(0,"product-card",6),t.bIt("addToCartEvent",function(n){t.eBV(r);const i=t.XpG();return t.Njj(i.addToCart(n))}),t.k0s()}2&e&&t.Y8G("product",d.$implicit)}function j(e,d){1&e&&(t.j41(0,"div",7),t.nrm(1,"div",8),t.k0s())}const B=function(e){return{product:e}},O=[{path:"",component:(()=>{class e{constructor(r,o,n,i){this.productService=r,this.cartService=o,this.router=n,this.http=i,this.products=[],this.subscription=null,this.loading=!1}ngOnInit(){this.loading=!0,this.subscription=this.productService.getProducts().pipe((0,v.M)(()=>{this.loading=!1})).subscribe({next:r=>{this.products=r},error:r=>{console.log(r),this.router.navigate(["/"]).then()}})}addToCart(r){this.cartService.product=r,this.router.navigate(["/order"],{queryParams:{product:r}})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(m.b),t.rXU(P.m),t.rXU(u.Ix),t.rXU(x.Qq))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-products"]],decls:7,vars:2,consts:[["id","products",1,"products"],[1,"container"],["id","products-title",1,"products-title"],[1,"products-items"],[3,"product","addToCartEvent",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[3,"product","addToCartEvent"],[1,"loader-bg"],[1,"loader"]],template:function(o,n){1&o&&(t.j41(0,"section",0)(1,"div",1)(2,"h2",2),t.EFF(3," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043b\u044e\u0431\u0438\u043c\u0443\u044e \u043f\u0438\u0446\u0446\u0443 "),t.k0s(),t.j41(4,"div",3),t.DNE(5,I,1,1,"product-card",4),t.k0s(),t.DNE(6,j,2,0,"div",5),t.k0s()()),2&o&&(t.R7$(5),t.Y8G("ngForOf",n.products),t.R7$(1),t.Y8G("ngIf",n.loading))},dependencies:[s.Sq,s.bT,M]})}}return e})()},{path:":id",component:(()=>{class e{constructor(r,o,n){this.activatedRoute=r,this.productService=o,this.router=n,this.product={id:0,image:"",title:"",description:"",datetime:""}}ngOnInit(){this.activatedRoute.params.subscribe(r=>{r.id&&this.productService.getProduct(+r.id).subscribe({next:o=>{this.product=o},error:o=>{this.router.navigate(["/"]).then()}})})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(u.nX),t.rXU(m.b),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-product"]],decls:15,vars:12,consts:[[1,"products"],[1,"container"],["id","products-title",1,"products-title"],[1,"product-item"],[1,"product-image"],["alt","Pizza",3,"src"],[3,"title"],[1,"product-text"],[1,"product-action"],["routerLink","/order",1,"btn","btn-add-to-cart",3,"queryParams"]],template:function(o,n){1&o&&(t.j41(0,"section",0)(1,"div",1)(2,"h2",2),t.EFF(3," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0438\u0446\u0446\u044b "),t.k0s(),t.j41(4,"div",3)(5,"div",4),t.nrm(6,"img",5),t.k0s(),t.nrm(7,"custom-title",6),t.nI1(8,"uppercase"),t.j41(9,"div",7),t.EFF(10),t.nI1(11,"wordUpper"),t.k0s(),t.j41(12,"div",8)(13,"a",9),t.EFF(14,"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),t.k0s()()()()()),2&o&&(t.R7$(6),t.FS9("src",n.product.image,t.B4B),t.R7$(1),t.Y8G("title",t.bMT(8,4,n.product.title)),t.R7$(3),t.SpI(" ",t.brH(11,6,n.product.description,"\u0441\u044b\u0440","\u0442\u043e\u043c\u0430\u0442")," "),t.R7$(3),t.Y8G("queryParams",t.eq3(10,B,n.product.title)))},dependencies:[a,u.Wk,s.Pc,h],styles:[".product-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.product-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin-top:10px}"]})}}return e})()}];let f=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(O),u.iI]})}}return e})();var U=c(3887);let G=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[s.MD,U.G,u.iI,f,f]})}}return e})()}}]);